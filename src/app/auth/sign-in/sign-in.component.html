<script>
  function onSignIn(googleUser) {
      var profile = googleUser.getBasicProfile();
      console.log("ID: "+profile.getId()); //Don't send this directly to your server
      console.log("Full Name: " + profile.getName());
      console.log("Given Name: " + profile.getGivenName());
      console.log("Family Name: " + profile.getFamilyName());
      console.log("Image URL: " + profile.getImageUrl());
      console.log("Email: " + profile.getEmail());

      //the ID token you need to pass to your backend:
      var id_token = googleUser.getAuthResponse().id_token;
      console.log("ID Token: " + id_token);

      //@up.edu.ph only
      //passed, stringified email login
      var emailString = String(profile.emails[0].value);
      //the domain you want to whitelist
      var yourDomain = '@up.edu.ph';
      //check the x amount of characters including and after @ symbol of passed user login.
      //This means '@google.com' must be the final set of characters in the attempted login
      var domain = emailString.substr(emailString.length - yourDomain.length);

      //I send the user back to the login screen if domain does not match
      if (domain != yourDomain)
         console.log("Unauthorized Email Domain. Requires UP Mail");
         return done(err);
    }
    function signOut() {
    var auth2 = gapi.auth2.getAuthInstance();
    auth2.signOut().then(function () {
        console.log('User signed out.');
        alert("You have succesfully signed out");
    });
    }

</script>
